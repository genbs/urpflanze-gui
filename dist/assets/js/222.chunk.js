(self.webpackChunk_genbs_urpflanze_gui=self.webpackChunk_genbs_urpflanze_gui||[]).push([[222],{62957:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var l=n(67294);const i=function(e=null){const t=l.useRef(e),n=l.useCallback((e=>{t.current,t.current=e}),[]);return[t,n]}},30222:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var l=n(67294),i=n(51512),a=n(62957),s=n(99011),r=n(76383),c=n(27722),o=n(86908);const u=l.memo((e=>l.createElement("div",{style:{width:"100%",height:"100%"}},l.createElement(o.Z,{options:{bVector:!0,bVertexCallback:!0},initialReteState:e.initialReteState,setReteAnimation:e.setReteAnimationRef}))));var d=n(63402);const v={position:"absolute",top:0,left:0,padding:r.Z.ms(1)},f=(0,i.$j)((e=>({scene:e.project.scene})))((e=>{const[t,n]=(0,a.Z)(null),[i,r]=l.useState(null),[{layer:o}]=(0,d.Z)("vertex-callback",e.scene,e.layer_id);function f(){if(o&&(o.id+"").length>0){const e={id:o.id,name:"vertexCallback",value:Object.assign({},t.current),prev_value:o.vertexCallback};window.opener.postMessage({event:"set-popup-window-value",value:e},location.origin)}}return l.useEffect((()=>{if(o&&o.id&&(o.id+"").length>0){const e=o.id&&o.vertexCallback?o.vertexCallback.state:null;r(e)}}),[null==o?void 0:o.id,null==o?void 0:o.vertexCallback]),l.useEffect((()=>{function e(e){83===e.keyCode&&(0,c.sn)(e)&&(e.preventDefault(),f())}return window.addEventListener("keydown",e,{passive:!1}),()=>window.removeEventListener("keydown",e)}),[null==o?void 0:o.id,null==o?void 0:o.vertexCallback,t.current]),null===o?null:l.createElement("div",{style:{width:"100vw",height:"100vh"}},l.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},l.createElement("div",{style:v},l.createElement(s.Z,{name:"save",onClick:f,size:2})),l.createElement(u,{initialReteState:i,setReteAnimationRef:n})))}))}}]);